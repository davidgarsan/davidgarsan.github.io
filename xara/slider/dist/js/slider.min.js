!function(a,b){"function"==typeof define&&define.amd?define(b):a.SliderWidget=b()}(this,function(){var a=function(a,b){this.options=this.applyDefaults(b||{}),this.wrapper=this.getWrapper(a),this.wrapper&&(this.init(),this.setPercentage(this.options.minValue),this.bindEvents(),this._observers=[])};return a.prototype={defaults:{minValue:0,maxValue:100,step:1},_value:0,applyDefaults:function(a){for(var b in this.defaults)this.defaults.hasOwnProperty(b)&&!a.hasOwnProperty(b)&&(a[b]=this.defaults[b]);return a},getWrapper:function(a){return"string"==typeof a?document.getElementById(a):a},bindEvents:function(){this.handle.onmousedown=this.onHandleMouseDown.bind(this),this.handle.onmouseup=this.onHandleMouseUp.bind(this),this.track.onmouseleave=this.onHandleMouseUp.bind(this)},init:function(){this.track=document.createElement("div"),this.track.className="sw_track",this.handle=document.createElement("div"),this.handle.className="sw_handle",this.track.appendChild(this.handle),this.wrapper.appendChild(this.track)},onHandleMouseDown:function(a){this.cursorStart=a.x-this.handle.offsetLeft,this.sliding=!0,this.track.onmousemove=this.onHandleMouseMove.bind(this),console.log("down")},onHandleMouseUp:function(){this.cursorStart=-1,this.sliding=!1,this.track.onmousemove=null,console.log("up")},onHandleMouseMove:function(a){if(this.sliding){var b=a.x-this.cursorStart;b>=0&&b<=this.track.clientWidth-this.handle.clientWidth&&(this._value=b,this.handle.style.left=this._value+"px",this.notifyObservers())}},getPercentage:function(){return Math.ceil(100*this._value/(this.track.clientWidth-this.handle.clientWidth))},setPercentage:function(a){var b=(this.track.clientWidth-this.handle.clientWidth)*a/100;this.setValue(b)},getValue:function(){return this._value},setValue:function(a){a=a<this.options.minValue?this.options.minValue:a>this.track.clientWidth-this.handle.clientWidth?this.track.clientWidth-this.handle.clientWidth:a,this.handle.style.left=a+"px",this._value=a,this.notifyObservers()},addObserver:function(a){this._observers.push(a)},notifyObservers:function(){setTimeout(function(){for(var a=0;a<this._observers.length;a++)this._observers[a](this.getPercentage())}.bind(this),0)}},a});